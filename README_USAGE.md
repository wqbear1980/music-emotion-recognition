# 音乐情绪识别系统 - 功能说明

## 核心功能

本软件支持**本地音乐文件导入分析**，无需上传至扣子云端：

### 📥 导入
用户选择本地 MP3/WAV/OGG/FLAC 等格式音乐文件，文件仅存储在浏览器临时内存中。

### 🔍 分析
在**用户设备端（浏览器）**完成音频特征提取与情绪识别，利用 Web Audio API 技术提取以下特征：
- BPM（节拍）
- 频谱分析（低频/中频/高频）
- 能量强度
- 动态范围
- 节奏特征
- 和声特征
- 音色纹理

基于这些音频特征，AI 模型识别音乐的情绪、风格、适合的影视类型和场景。

### 📤 输出
仅返回情绪标签、节奏强度等分析结果，**不存储、不上传任何音乐源文件**。

---

## 数据安全承诺

### ✅ 不上传
- 音乐文件**从未离开您的设备**
- 不上传到扣子的文件盒子、知识库、工作流临时存储
- 不上传到任何云端存储服务

### ✅ 不保存
- 分析完成后，浏览器内存中的音频数据被自动释放
- 不保存音乐源文件
- 仅保存分析结果（情绪标签、风格建议等文本信息）

### ✅ 完全本地处理
- 所有音频处理都在您的浏览器中完成
- 后端只接收音频特征数据（JSON），不接收音频文件

---

## 使用场景

### 适合
- 🎵 个人音乐爱好者分析自己的音乐收藏
- 🎬 影视创作者为作品寻找合适的配乐
- 🎮 游戏开发者为游戏场景选择背景音乐
- 📺 视频制作者为视频添加情绪匹配的背景音乐

### 使用流程
1. 点击"上传音乐文件"区域
2. 选择本地音频文件（支持多选）
3. 系统自动提取音频特征并分析
4. 查看分析结果（情绪标签、风格、场景建议等）
5. 导出分析报告（可选）

---

## 技术说明

### 前端（浏览器）
- 使用 **FileReader API** 读取本地文件到内存
- 使用 **Web Audio API** 解码音频数据
- 使用浏览器原生能力提取音频特征

### 后端（API）
- 接收音频特征数据（JSON 格式）
- 使用大语言模型分析特征
- 返回分析结果（情绪标签、风格建议等）

### 数据流
```
本地文件 → 浏览器内存 → Web Audio API提取特征 → 发送特征到后端 → LLM分析 → 返回结果
```

---

## 常见问题

### Q: 我上传的音乐会被保存到扣子吗？
**A:** 不会。您的音乐文件只在浏览器内存中临时处理，分析完成后立即释放，从未上传到任何云端存储。

### Q: 我的音乐会离开我的设备吗？
**A:** 不会。所有音频处理都在您的浏览器中完成，只有音频特征数据（如 BPM、能量值等数字）会发送到后端进行分析。

### Q: 后端能看到我的音乐文件吗？
**A:** 看不到。后端只接收音频特征数据（JSON 格式），不接收音频文件本身。

### Q: 支持哪些音频格式？
**A:** 支持 MP3、WAV、OGG、FLAC、M4A 等常见音频格式。

### Q: 分析速度快吗？
**A:** 很快。音频特征提取在本地完成，通常几秒钟就能完成一首歌的分析。

---

## 隐私声明

本软件严格遵守用户隐私保护原则：

1. **数据最小化原则**：只收集必要的音频特征数据用于分析
2. **本地优先原则**：尽可能在用户设备端完成处理
3. **不存储源文件**：分析完成后立即释放音频数据
4. **透明化原则**：清楚说明数据处理流程

---

## 版本信息

- 版本：v1.0
- 更新日期：2025年
- 技术栈：Next.js + Web Audio API + LLM
