# 如何编辑Ollama服务地址

## 🎯 新增功能

「🤖 LLM 配置」面板现在支持**编辑服务地址**！

---

## 📝 使用步骤

### 第1步：打开配置面板

点击顶部工具栏的「🤖 LLM 配置」按钮

### 第2步：进入本地模式

- **LLM模式**：选择「本地（Local）」
- **服务类型**：选择「Ollama」

### 第3步：编辑服务地址

1. 找到「服务地址」输入框
2. 点击右侧的「**编辑**」按钮
3. 输入框变为可编辑状态（白色背景）
4. 输入你的Ollama服务地址：
   ```
   http://192.168.1.13:11434
   ```
5. 点击「**确定**」保存修改

### 第4步：测试连接

- 点击「**测试连接**」按钮
- 如果连接成功，会显示"✅ 连接正常"

---

## 🎨 界面说明

### 默认状态（不可编辑）
```
┌────────────────────────────────────────────────────┐
│ 服务地址                                            │
│ ┌──────────────────────────────────────────────┐  │
│ │ http://localhost:8000/v1                    │  │
│ └──────────────────────────────────────────────┘  │
│ [编辑]                                              │
│ ⚠️ 点击"编辑"按钮可修改服务地址                      │
└────────────────────────────────────────────────────┘
```

### 编辑状态（可编辑）
```
┌────────────────────────────────────────────────────┐
│ 服务地址                                            │
│ ┌──────────────────────────────────────────────┐  │
│ │ http://192.168.1.13:11434 ◀ 可输入          │  │
│ └──────────────────────────────────────────────┘  │
│ [确定]                                              │
│ 💡 输入 Ollama 服务地址，如: http://192.168.1.13:11434 │
└────────────────────────────────────────────────────┘
```

---

## 🔧 常见服务地址

### Ollama 默认地址
```
http://localhost:11434          # 本机访问
http://192.168.1.13:11434      # 局域网访问（替换为你的IP）
http://0.0.0.0:11434           # 允许所有地址访问
```

### 其他服务地址
```
vLLM:         http://localhost:8000/v1
OpenAI兼容:   http://localhost:8000/v1
```

---

## 💡 重要提示

### 1. 确保Ollama服务正在运行

在你的本地电脑上：
```bash
# 检查服务状态
curl http://localhost:11434/api/tags
```

### 2. 确保允许外部访问

启动Ollama时需要使用：
```bash
OLLAMA_HOST=0.0.0.0:11434 ollama serve
```

### 3. 确保防火墙允许11434端口

如果连接失败，检查防火墙设置。

---

## 🐛 故障排除

### 问题1：点击"编辑"没有反应
- 刷新页面重试
- 检查浏览器控制台是否有错误

### 问题2：测试连接失败
- 确认Ollama服务正在运行
- 确认服务地址格式正确（包含端口）
- 确认你的电脑和网页应用在同一网络

### 问题3：无法保存修改
- 确保点击了"确定"按钮
- 刷新页面后重新配置

---

## 📋 完整配置示例

```
LLM模式:    本地（Local）
服务类型:   Ollama
服务地址:   http://192.168.1.13:11434
模型:       deepseek-r1:7b
```

配置完成后：
1. ✅ 点击「测试连接」
2. ✅ 选择模型
3. ✅ 点击「测试推理」
4. ✅ 点击「保存配置」

---

现在你可以轻松编辑服务地址了！🎉
