# 音乐情绪识别系统 - 智能体描述

## 💬 对话中快速强调（口语化表达）

当用户询问"音乐文件去哪里了"、"会上传到扣子吗"等问题时，可以这样回答：

### 核心话术
"这个软件是**本地导入音乐做情绪识别**的，不是要把音乐**上传到扣子存起来**，只是**临时读取分析**，**分析完就删了**，**只给结果就行**，**别把音乐存到扣子库里**。"

### 详细说明
- "您导入的音乐只在您自己的设备上分析，不会传到任何云端存储"
- "就像您用手机播放音乐一样，音乐只存在于您的设备上，我们只是分析一下它的情绪特征"
- "分析完我们就把音频数据释放掉了，不留存任何音乐文件"

---

## 📋 功能说明（用于软件文档或智能体描述）

本软件支持本地音乐文件导入分析，无需上传至扣子云端：

### 导入
用户选择本地 MP3/WAV 等格式音乐文件；

### 分析
在**用户设备端**完成音频特征提取与情绪识别；

### 输出
仅返回情绪标签、节奏强度等分析结果，**不存储、不上传任何音乐源文件**。

---

## 🎯 核心概念强调

### 导入 ≠ 上传存储
- **导入**：用户从本地选择文件，文件在浏览器内存中临时处理
- **上传存储**：将文件传输到云端服务器保存

### 本软件使用的是"导入"模式
✅ 导入本地文件 → 浏览器内存 → 提取特征 → 分析 → 返回结果
❌ 上传文件 → 云端存储 → 云端处理 → 保存文件

---

## 🔒 隐私保护承诺

1. **不存储音乐源文件**：分析完成后立即释放音频数据
2. **不上传到任何云端**：包括文件盒子、知识库、工作流临时存储
3. **只发送特征数据**：将音频转换为数值特征（如 BPM、能量值）后发送给 AI 分析
4. **完全透明**：清楚说明数据处理流程，让用户放心使用

---

## 📞 用户沟通示例

### 示例 1：用户担心音乐会上传
**用户**："我上传的音乐会被保存到扣子吗？"

**回答**："不会的！您的音乐只在您自己的设备上处理，**不会上传到扣子存储**。我们只是临时读取分析一下情绪，分析完就删了，只给您分析结果。就像您用手机播放音乐一样，音乐始终在您手里。"

### 示例 2：用户想了解技术原理
**用户**："这个软件怎么分析音乐情绪的？"

**回答**："很简单！您把音乐导入后，系统在您的浏览器里提取一些音频特征，比如节奏快不快、能量强不强、音色是温暖还是明亮。然后把这些特征发给 AI，AI 就能判断出这首音乐是热血、温馨还是紧张了。全程都在您设备上完成，不会上传音乐文件。"

### 示例 3：用户担心隐私
**用户**："我的音乐会泄露给别人吗？"

**回答**："绝对不会！您的音乐从未离开过您的设备，我们只提取了一些音频特征（比如 BPM=120、能量=75% 这样的数字），然后用 AI 分析一下。后端根本看不到您的音乐文件，更不会泄露给任何人。"

---

## ✅ 检查清单

在开发和维护过程中，确保始终符合以下原则：

- [ ] 音乐文件只在浏览器内存中处理
- [ ] 不使用任何文件上传 API（如 FormData、File 对象直接上传）
- [ ] 后端 API 只接收音频特征数据（JSON）
- [ ] 分析完成后立即释放浏览器内存中的音频数据
- [ ] 不保存音频文件到任何存储位置
- [ ] 在用户文档中清晰说明"导入≠上传存储"的概念
- [ ] 在智能体对话中强调"本地分析、不存储"的核心原则

---

## 📝 技术实现要点

### 前端实现
```javascript
// ✅ 正确做法：只提取特征，不上传文件
const features = await extractAudioFeatures(file); // 在浏览器本地提取
const result = await analyzeFeatures(features);    // 只发送特征数据

// ❌ 错误做法：直接上传文件
const formData = new FormData();
formData.append('file', file);
await uploadFile(formData);  // 禁止这样做！
```

### 后端实现
```typescript
// ✅ 正确做法：只接收特征数据
interface AudioFeatures {
  bpm: number;
  energy: number;
  rhythm: {...};
  // ... 其他特征
}

// ❌ 错误做法：接收文件
interface UploadRequest {
  file: File;  // 禁止！
}
```

---

## 🎓 用户教育

为了让用户更好地理解"纯本地分析"的概念，可以在界面上添加一些提示：

### 界面提示文案
- "🔒 您的音乐只在本地处理，不会上传到任何云端"
- "🎵 我们只提取音频特征进行分析，不保存音乐源文件"
- "⚡ 分析速度快，全程在您设备上完成"

### 交互设计
- 在文件上传区域添加"本地处理"标识
- 在分析过程中显示"正在本地提取特征..."
- 在分析完成后显示"分析完成（本地处理）"

---

## 📚 相关文档

- 详细功能说明：参见 `README_USAGE.md`
- 技术架构说明：参见项目根目录 `README.md`
- 隐私政策：参见项目根目录 `PRIVACY.md`
